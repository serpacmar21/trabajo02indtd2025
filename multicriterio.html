<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sergio Pacheco Márquez">

<title>Trabajo 2. Teoría de la Decisión.</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="multicriterio_files/libs/clipboard/clipboard.min.js"></script>
<script src="multicriterio_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="multicriterio_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="multicriterio_files/libs/quarto-html/popper.min.js"></script>
<script src="multicriterio_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="multicriterio_files/libs/quarto-html/anchor.min.js"></script>
<link href="multicriterio_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="multicriterio_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="multicriterio_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="multicriterio_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="multicriterio_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="multicriterio_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="multicriterio_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="multicriterio_files/libs/viz-1.8.2/viz.js"></script>

<link href="multicriterio_files/libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">

<script src="multicriterio_files/libs/grViz-binding-1.0.11/grViz.js"></script>

<script src="multicriterio_files/libs/kePrint-0.0.1/kePrint.js"></script>

<link href="multicriterio_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">


  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="multicriterio.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Trabajo 2. Teoría de la Decisión.</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Sergio Pacheco Márquez </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="introducción-del-problema" class="level2">
<h2 class="anchored" data-anchor-id="introducción-del-problema">1. Introducción del problema</h2>
<p>El trabajo trata sobre el problema de decisión multicriterio de “Seleccionar el deporte más completo para una vida saludable”. El objetivo es evaluar 5 alternativas de deportes (Natación, Running, CrossFit, Ciclismo y Yoga) basándose en una jerarquía de 3 criterios principales (Salud Física, Salud Mental y Viabilidad) y sus subcriterios correspondientes.</p>
<p>Para ello, se aplicarán las técnicas, comenzando por el <em>Proceso Analítico Jerárquico (AHP)</em>, seguido de <em>ELECTRE</em> y <em>PROMETHEE</em>. Finalmente, se compararán los resultados y se extraerán conclusiones.</p>
</section>
<section id="proceso-analítico-jerárquico-ahp" class="level2">
<h2 class="anchored" data-anchor-id="proceso-analítico-jerárquico-ahp">2. Proceso Analítico Jerárquico (AHP)</h2>
<p>Para el método AHP, se utiliza el paquete ahp de R. Este método requiere la definición de la jerarquía y la comparación por pares de todos los elementos en cada nivel, lo cual se ha definido en el fichero <em>deportes.ahp</em>.</p>
<section id="cálculo-del-modelo-ahp-con-librería" class="level3">
<h3 class="anchored" data-anchor-id="cálculo-del-modelo-ahp-con-librería">2.1 Cálculo del Modelo AHP (con librería)</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargar librerías </span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ahp)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargar y Calcular AHP</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Cargar el modelo desde el fichero</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> ahp<span class="sc">::</span><span class="fu">Load</span>(<span class="st">"deportes.ahp"</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Calcular las prioridades</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>ahp<span class="sc">::</span><span class="fu">Calculate</span>(model)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Analizar los resultados</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>results_table <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(ahp<span class="sc">::</span><span class="fu">AnalyzeTable</span>(model))</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>results_priority <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(ahp<span class="sc">::</span><span class="fu">AnalyzeTable</span>(model, <span class="at">variable =</span> <span class="st">"priority"</span>, <span class="at">sort =</span> <span class="st">"orig"</span>))</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(results_table) <span class="ot">&lt;-</span> results_table[, <span class="dv">1</span>]</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(results_priority) <span class="ot">&lt;-</span> results_priority[, <span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="diagrama-de-jerarquía" class="level3">
<h3 class="anchored" data-anchor-id="diagrama-de-jerarquía">2.2 Diagrama de jerarquía</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar Diagrama </span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">Visualize</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="grViz html-widget html-fill-item" id="htmlwidget-bd17018e77448529d2ff" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-bd17018e77448529d2ff">{"x":{"diagram":"digraph {\n\ngraph [rankdir = \"TB\"]\n\n\n\n  \"1\" [label = \"Deporte mas completo para una vida saludable\", tooltip = \"\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"2\" [label = \"Salud Fisica\", tooltip = \"priority: 63.7%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"3\" [label = \"Salud Cardiovascular\", tooltip = \"priority: 36.8%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"4\" [label = \"Desarrollo Muscular\", tooltip = \"priority: 36.8%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"5\" [label = \"Flexibilidad y Movilidad\", tooltip = \"priority: 9.6%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"6\" [label = \"Bajo Impacto Articular\", tooltip = \"priority: 16.9%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"7\" [label = \"Salud Mental\", tooltip = \"priority: 25.8%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"8\" [label = \"Reduccion Estres\", tooltip = \"priority: 75.0%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"9\" [label = \"Componente Social\", tooltip = \"priority: 25.0%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"10\" [label = \"Viabilidad\", tooltip = \"priority: 10.5%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"11\" [label = \"Coste Economico\", tooltip = \"priority: 25.0%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"12\" [label = \"Accesibilidad\", tooltip = \"priority: 75.0%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"13\" [label = \"Alternatives\", tooltip = \"\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"14\" [label = \"Natacion\", tooltip = \"priority: 28.4%\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"15\" [label = \"Running\", tooltip = \"priority: 28.4%\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"16\" [label = \"CrossFit\", tooltip = \"priority: 11.3%\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"17\" [label = \"Ciclismo\", tooltip = \"priority: 28.4%\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"18\" [label = \"Yoga\", tooltip = \"priority: 3.5%\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n\"1\"->\"2\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"1\"->\"7\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"1\"->\"10\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"2\"->\"3\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"2\"->\"4\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"2\"->\"5\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"2\"->\"6\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"7\"->\"8\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"7\"->\"9\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"10\"->\"11\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"10\"->\"12\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"3\"->\"13\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"4\"->\"13\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"5\"->\"13\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"6\"->\"13\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"8\"->\"13\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"9\"->\"13\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"11\"->\"13\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"12\"->\"13\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"13\"->\"14\" [penwidth = \"2\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n\"13\"->\"15\" [dir = \"none\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n\"13\"->\"16\" [dir = \"none\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n\"13\"->\"17\" [dir = \"none\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n\"13\"->\"18\" [dir = \"none\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="resultados-y-análisis-ahp" class="level3">
<h3 class="anchored" data-anchor-id="resultados-y-análisis-ahp">2.3 Resultados y Análisis AHP</h3>
<p>Las tablas generadas por el paquete ahp nos permiten analizar el ranking final, los pesos de cada criterio y, fundamentalmente, la consistencia de nuestros juicios.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar Tablas de Resultados</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Tabla de Análisis (Resultados Finales AHP)</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(results_table, <span class="at">digits =</span> <span class="dv">3</span>, <span class="at">caption =</span> <span class="st">"Resultados Finales AHP: Contribución Total"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"striped"</span>, <span class="at">full_width =</span> F, <span class="at">position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped caption-top table-sm small" data-quarto-postprocess="true">
<caption>Resultados Finales AHP: Contribución Total</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weight</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Yoga</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">CrossFit</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Natacion</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Running</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Ciclismo</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Inconsistency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Deporte mas completo para una vida saludable</td>
<td style="text-align: left;">Deporte mas completo para una vida saludable</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.241</td>
<td style="text-align: right;">0.237</td>
<td style="text-align: right;">0.202</td>
<td style="text-align: right;">0.173</td>
<td style="text-align: right;">0.147</td>
<td style="text-align: right;">0.037</td>
</tr>
<tr class="even">
<td style="text-align: left;">Salud Fisica</td>
<td style="text-align: left;">Salud Fisica</td>
<td style="text-align: right;">0.637</td>
<td style="text-align: right;">0.091</td>
<td style="text-align: right;">0.184</td>
<td style="text-align: right;">0.160</td>
<td style="text-align: right;">0.094</td>
<td style="text-align: right;">0.107</td>
<td style="text-align: right;">0.058</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Salud Cardiovascular</td>
<td style="text-align: left;">Salud Cardiovascular</td>
<td style="text-align: right;">0.234</td>
<td style="text-align: right;">0.008</td>
<td style="text-align: right;">0.027</td>
<td style="text-align: right;">0.067</td>
<td style="text-align: right;">0.067</td>
<td style="text-align: right;">0.067</td>
<td style="text-align: right;">0.016</td>
</tr>
<tr class="even">
<td style="text-align: left;">Desarrollo Muscular</td>
<td style="text-align: left;">Desarrollo Muscular</td>
<td style="text-align: right;">0.234</td>
<td style="text-align: right;">0.009</td>
<td style="text-align: right;">0.140</td>
<td style="text-align: right;">0.046</td>
<td style="text-align: right;">0.020</td>
<td style="text-align: right;">0.020</td>
<td style="text-align: right;">0.040</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Bajo Impacto Articular</td>
<td style="text-align: left;">Bajo Impacto Articular</td>
<td style="text-align: right;">0.107</td>
<td style="text-align: right;">0.039</td>
<td style="text-align: right;">0.008</td>
<td style="text-align: right;">0.039</td>
<td style="text-align: right;">0.004</td>
<td style="text-align: right;">0.017</td>
<td style="text-align: right;">0.031</td>
</tr>
<tr class="even">
<td style="text-align: left;">Flexibilidad y Movilidad</td>
<td style="text-align: left;">Flexibilidad y Movilidad</td>
<td style="text-align: right;">0.061</td>
<td style="text-align: right;">0.035</td>
<td style="text-align: right;">0.009</td>
<td style="text-align: right;">0.009</td>
<td style="text-align: right;">0.004</td>
<td style="text-align: right;">0.004</td>
<td style="text-align: right;">0.021</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Salud Mental</td>
<td style="text-align: left;">Salud Mental</td>
<td style="text-align: right;">0.258</td>
<td style="text-align: right;">0.113</td>
<td style="text-align: right;">0.044</td>
<td style="text-align: right;">0.030</td>
<td style="text-align: right;">0.036</td>
<td style="text-align: right;">0.036</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Reduccion Estres</td>
<td style="text-align: left;">Reduccion Estres</td>
<td style="text-align: right;">0.194</td>
<td style="text-align: right;">0.109</td>
<td style="text-align: right;">0.007</td>
<td style="text-align: right;">0.026</td>
<td style="text-align: right;">0.026</td>
<td style="text-align: right;">0.026</td>
<td style="text-align: right;">0.029</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Componente Social</td>
<td style="text-align: left;">Componente Social</td>
<td style="text-align: right;">0.065</td>
<td style="text-align: right;">0.004</td>
<td style="text-align: right;">0.037</td>
<td style="text-align: right;">0.004</td>
<td style="text-align: right;">0.010</td>
<td style="text-align: right;">0.010</td>
<td style="text-align: right;">0.021</td>
</tr>
<tr class="even">
<td style="text-align: left;">Viabilidad</td>
<td style="text-align: left;">Viabilidad</td>
<td style="text-align: right;">0.105</td>
<td style="text-align: right;">0.036</td>
<td style="text-align: right;">0.009</td>
<td style="text-align: right;">0.012</td>
<td style="text-align: right;">0.043</td>
<td style="text-align: right;">0.004</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Accesibilidad</td>
<td style="text-align: left;">Accesibilidad</td>
<td style="text-align: right;">0.079</td>
<td style="text-align: right;">0.030</td>
<td style="text-align: right;">0.007</td>
<td style="text-align: right;">0.007</td>
<td style="text-align: right;">0.030</td>
<td style="text-align: right;">0.003</td>
<td style="text-align: right;">0.021</td>
</tr>
<tr class="even">
<td style="text-align: left;">Coste Economico</td>
<td style="text-align: left;">Coste Economico</td>
<td style="text-align: right;">0.026</td>
<td style="text-align: right;">0.006</td>
<td style="text-align: right;">0.002</td>
<td style="text-align: right;">0.005</td>
<td style="text-align: right;">0.013</td>
<td style="text-align: right;">0.001</td>
<td style="text-align: right;">0.033</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Tabla de Prioridades (Alternativas por Criterio)</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(results_priority, <span class="at">digits =</span> <span class="dv">3</span>, <span class="at">caption =</span> <span class="st">"Prioridades Locales por Subcriterio"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"striped"</span>, <span class="at">full_width =</span> F, <span class="at">position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped caption-top table-sm small" data-quarto-postprocess="true">
<caption>Prioridades Locales por Subcriterio</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Priority</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Natacion</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Running</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">CrossFit</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Ciclismo</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Yoga</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Inconsistency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Deporte mas completo para una vida saludable</td>
<td style="text-align: left;">Deporte mas completo para una vida saludable</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0.037</td>
</tr>
<tr class="even">
<td style="text-align: left;">Salud Fisica</td>
<td style="text-align: left;">Salud Fisica</td>
<td style="text-align: right;">0.637</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0.058</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Salud Cardiovascular</td>
<td style="text-align: left;">Salud Cardiovascular</td>
<td style="text-align: right;">0.368</td>
<td style="text-align: right;">0.284</td>
<td style="text-align: right;">0.284</td>
<td style="text-align: right;">0.113</td>
<td style="text-align: right;">0.284</td>
<td style="text-align: right;">0.035</td>
<td style="text-align: right;">0.016</td>
</tr>
<tr class="even">
<td style="text-align: left;">Desarrollo Muscular</td>
<td style="text-align: left;">Desarrollo Muscular</td>
<td style="text-align: right;">0.368</td>
<td style="text-align: right;">0.195</td>
<td style="text-align: right;">0.084</td>
<td style="text-align: right;">0.598</td>
<td style="text-align: right;">0.084</td>
<td style="text-align: right;">0.039</td>
<td style="text-align: right;">0.040</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Flexibilidad y Movilidad</td>
<td style="text-align: left;">Flexibilidad y Movilidad</td>
<td style="text-align: right;">0.096</td>
<td style="text-align: right;">0.153</td>
<td style="text-align: right;">0.059</td>
<td style="text-align: right;">0.153</td>
<td style="text-align: right;">0.059</td>
<td style="text-align: right;">0.576</td>
<td style="text-align: right;">0.021</td>
</tr>
<tr class="even">
<td style="text-align: left;">Bajo Impacto Articular</td>
<td style="text-align: left;">Bajo Impacto Articular</td>
<td style="text-align: right;">0.169</td>
<td style="text-align: right;">0.362</td>
<td style="text-align: right;">0.039</td>
<td style="text-align: right;">0.076</td>
<td style="text-align: right;">0.161</td>
<td style="text-align: right;">0.362</td>
<td style="text-align: right;">0.031</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Salud Mental</td>
<td style="text-align: left;">Salud Mental</td>
<td style="text-align: right;">0.258</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Reduccion Estres</td>
<td style="text-align: left;">Reduccion Estres</td>
<td style="text-align: right;">0.750</td>
<td style="text-align: right;">0.134</td>
<td style="text-align: right;">0.134</td>
<td style="text-align: right;">0.035</td>
<td style="text-align: right;">0.134</td>
<td style="text-align: right;">0.563</td>
<td style="text-align: right;">0.029</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Componente Social</td>
<td style="text-align: left;">Componente Social</td>
<td style="text-align: right;">0.250</td>
<td style="text-align: right;">0.059</td>
<td style="text-align: right;">0.153</td>
<td style="text-align: right;">0.576</td>
<td style="text-align: right;">0.153</td>
<td style="text-align: right;">0.059</td>
<td style="text-align: right;">0.021</td>
</tr>
<tr class="even">
<td style="text-align: left;">Viabilidad</td>
<td style="text-align: left;">Viabilidad</td>
<td style="text-align: right;">0.105</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Coste Economico</td>
<td style="text-align: left;">Coste Economico</td>
<td style="text-align: right;">0.250</td>
<td style="text-align: right;">0.185</td>
<td style="text-align: right;">0.487</td>
<td style="text-align: right;">0.068</td>
<td style="text-align: right;">0.035</td>
<td style="text-align: right;">0.225</td>
<td style="text-align: right;">0.033</td>
</tr>
<tr class="even">
<td style="text-align: left;">Accesibilidad</td>
<td style="text-align: left;">Accesibilidad</td>
<td style="text-align: right;">0.750</td>
<td style="text-align: right;">0.091</td>
<td style="text-align: right;">0.388</td>
<td style="text-align: right;">0.091</td>
<td style="text-align: right;">0.042</td>
<td style="text-align: right;">0.388</td>
<td style="text-align: right;">0.021</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="conclusiones-del-método-ahp" class="level3">
<h3 class="anchored" data-anchor-id="conclusiones-del-método-ahp">2.4 Conclusiones del Método AHP</h3>
<p>Estudio de Inconsistencia</p>
<p>Un paso fundamental en AHP es verificar la consistencia de las matrices de comparación 2 a 2. Según la teoría, un ratio de inconsistencia (Inconsistency) superior al 10% (0.10) invalidaría los juicios.</p>
<p>En nuestros resultados, la inconsistencia de la matriz principal es del 3.7%. Todas las demás matrices (ej. 5.8% para Salud Física, 4.0% para Desarrollo Muscular) se encuentran muy por debajo del límite del 10%.</p>
<p>Por tanto, las valoraciones han sido coherentes y los resultados del método AHP son robustos y fiables.</p>
<p>Comentarios al Ranking</p>
<p>El ranking final obtenido mediante AHP es el siguiente:</p>
<p>1.Yoga (24.1%)</p>
<p>2.CrossFit (23.7%)</p>
<p>3.Natación (20.2%)</p>
<p>4.Running (17.3%)</p>
<p>5.Ciclismo (14.7%)</p>
<p>Análisis de la tabla:</p>
<ul>
<li><p>El Yoga obtiene el primer puesto gracias a su dominio absoluto en los criterios de Salud Mental, aportando un 10.9% del peso total solo desde Reducción de Estrés.</p></li>
<li><p>El CrossFit queda en un segundo lugar muy cercano. Su puntuación se debe casi en su totalidad a su gran superioridad en Desarrollo Muscular (contribuye un 14.0% del total).</p></li>
<li><p>La Natación es la alternativa más equilibrada, con buenas puntuaciones en Salud Cardiovascular (6.7%) y, especialmente, en Bajo Impacto Articular (3.9%), pero no logra dominar en los criterios de mayor peso.</p></li>
<li><p>El Running y el Ciclismo quedan en las últimas posiciones, penalizados por factores como el alto impacto (Running) o la menor puntuación en Flexibilidad y Reducción de Estrés.</p></li>
</ul>
</section>
</section>
<section id="método-ahp-con-r" class="level2">
<h2 class="anchored" data-anchor-id="método-ahp-con-r">3. Método AHP (con R)</h2>
<p>En este apartado, se replica el análisis AHP utilizando las funciones R proporcionadas.</p>
<section id="nivel-1-criterios-principales" class="level3">
<h3 class="anchored" data-anchor-id="nivel-1-criterios-principales">3.1. Nivel 1: Criterios Principales</h3>
<p>Primero, definimos la matriz de comparación 2 a 2 para los 3 criterios principales.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># --- Cargar Funciones</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"teoriadecision_funciones_multicriterio.R"</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"teoriadecision_funciones_multicriterio_utiles.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'dplyr' was built under R version 4.4.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"teoriadecision_funciones_multicriterio_diagram.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Cargando paquete requerido: shape</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Crear la matriz de Criterios Principales</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Usamos los mismos valores que en el fichero .ahp</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># [Salud Fisica (3) vs Salud Mental], [Salud Fisica (5) vs Viabilidad], [Salud Mental (3) vs Viabilidad]</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>mat_c1 <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">vector_valoraciones_diagsup =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">3</span>), </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">numalternativas =</span> <span class="dv">3</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">v.nombres.alternativas =</span> <span class="fu">c</span>(<span class="st">"Salud Fisica"</span>, <span class="st">"Salud Mental"</span>, <span class="st">"Viabilidad"</span>)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Calcular los pesos locales</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>pesos_c1_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_c1)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Calcular la Inconsistencia (Requisito de la evaluación)</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>incons_c1_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_c1)</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- Matriz Criterios Principales (AHP-R) ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- Matriz Criterios Principales (AHP-R) ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(mat_c1, <span class="at">digits =</span> <span class="dv">3</span>, <span class="at">caption =</span> <span class="st">"Matriz Criterios Principales (AHP-R)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"striped"</span>, <span class="at">full_width =</span> F, <span class="at">position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped caption-top table-sm small" data-quarto-postprocess="true">
<caption>Matriz Criterios Principales (AHP-R)</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Salud Fisica</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Salud Mental</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Viabilidad</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Salud Fisica</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">3.000</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">Salud Mental</td>
<td style="text-align: right;">0.333</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Viabilidad</td>
<td style="text-align: right;">0.200</td>
<td style="text-align: right;">0.333</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- Pesos Criterios Principales (AHP-R) ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- Pesos Criterios Principales (AHP-R) ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">t</span>(pesos_c1_R), <span class="at">digits =</span> <span class="dv">4</span>, <span class="at">caption =</span> <span class="st">"Pesos Locales Criterios Principales"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"striped"</span>, <span class="at">full_width =</span> T, <span class="at">position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped caption-top table-sm small" data-quarto-postprocess="true">
<caption>Pesos Locales Criterios Principales</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Salud Fisica</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Salud Mental</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Viabilidad</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.6333</td>
<td style="text-align: right;">0.2605</td>
<td style="text-align: right;">0.1062</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Ratio de Inconsistencia (C1):"</span>, <span class="fu">round</span>(incons_c1_R<span class="sc">$</span>RI.coef.inconsistencia, <span class="dv">4</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Ratio de Inconsistencia (C1): 0.0332"</code></pre>
</div>
</div>
</section>
<section id="nivel-2-subcriterios" class="level3">
<h3 class="anchored" data-anchor-id="nivel-2-subcriterios">3.2. Nivel 2: Subcriterios</h3>
<p>Ahora, definimos las matrices de comparación para los subcriterios que dependen de cada criterio principal.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Matriz de Subcriterios de C1: Salud Física</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co"># [Cardio (1) vs Músculo], [Cardio (3) vs Flexibilidad], [Cardio (3) vs Impacto]</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># [Músculo (3) vs Flexibilidad], [Músculo (3) vs Impacto]</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co"># [Flexibilidad (1/3) vs Impacto]</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>mat_c1_sub <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">vector_valoraciones_diagsup =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>),</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">numalternativas =</span> <span class="dv">4</span>,</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">v.nombres.alternativas =</span> <span class="fu">c</span>(<span class="st">"Salud Cardiovascular"</span>, <span class="st">"Desarrollo Muscular"</span>, </span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Flexibilidad y Movilidad"</span>, <span class="st">"Bajo Impacto Articular"</span>)</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>pesos_c1_sub_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_c1_sub)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>incons_c1_sub_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_c1_sub)</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Ratio de Inconsistencia (C1-Sub):"</span>, <span class="fu">round</span>(incons_c1_sub_R<span class="sc">$</span>RI.coef.inconsistencia, <span class="dv">4</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Ratio de Inconsistencia (C1-Sub): 0.0572"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Matriz de Subcriterios de C2: Salud Mental</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co"># [Estrés (3) vs Social]</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>mat_c2_sub <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">vector_valoraciones_diagsup =</span> <span class="fu">c</span>(<span class="dv">3</span>),</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">numalternativas =</span> <span class="dv">2</span>,</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">v.nombres.alternativas =</span> <span class="fu">c</span>(<span class="st">"Reduccion Estres"</span>, <span class="st">"Componente Social"</span>)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>pesos_c2_sub_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_c2_sub)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>incons_c2_sub_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_c2_sub)</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Ratio de Inconsistencia (C2-Sub):"</span>, <span class="fu">round</span>(incons_c2_sub_R<span class="sc">$</span>RI.coef.inconsistencia, <span class="dv">4</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Ratio de Inconsistencia (C2-Sub): NaN"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Matriz de Subcriterios de C3: Viabilidad</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="co"># [Coste (1/3) vs Accesibilidad]</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>mat_c3_sub <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">vector_valoraciones_diagsup =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>),</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">numalternativas =</span> <span class="dv">2</span>,</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">v.nombres.alternativas =</span> <span class="fu">c</span>(<span class="st">"Coste Economico"</span>, <span class="st">"Accesibilidad"</span>)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>pesos_c3_sub_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_c3_sub)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>incons_c3_sub_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_c3_sub)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Ratio de Inconsistencia (C3-Sub):"</span>, <span class="fu">round</span>(incons_c3_sub_R<span class="sc">$</span>RI.coef.inconsistencia, <span class="dv">4</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Ratio de Inconsistencia (C3-Sub): NaN"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostramos las tablas de pesos (las matrices son muy grandes para el PDF)</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- Pesos Subcriterios de Salud Física (AHP-R) ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- Pesos Subcriterios de Salud Física (AHP-R) ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">t</span>(pesos_c1_sub_R), <span class="at">digits =</span> <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"striped"</span>, <span class="at">full_width =</span> T, <span class="at">position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Salud Cardiovascular</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Desarrollo Muscular</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Flexibilidad y Movilidad</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Bajo Impacto Articular</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.3648</td>
<td style="text-align: right;">0.3648</td>
<td style="text-align: right;">0.0989</td>
<td style="text-align: right;">0.1716</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- Pesos Subcriterios de Salud Mental (AHP-R) ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- Pesos Subcriterios de Salud Mental (AHP-R) ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">t</span>(pesos_c2_sub_R), <span class="at">digits =</span> <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"striped"</span>, <span class="at">full_width =</span> T, <span class="at">position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Reduccion Estres</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Componente Social</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.75</td>
<td style="text-align: right;">0.25</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- Pesos Subcriterios de Viabilidad (AHP-R) ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- Pesos Subcriterios de Viabilidad (AHP-R) ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">t</span>(pesos_c3_sub_R), <span class="at">digits =</span> <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"striped"</span>, <span class="at">full_width =</span> T, <span class="at">position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Coste Economico</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Accesibilidad</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.25</td>
<td style="text-align: right;">0.75</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="nivel-3-alternativas" class="level3">
<h3 class="anchored" data-anchor-id="nivel-3-alternativas">3.3. Nivel 3: Alternativas</h3>
<p>Finalmente, se crean las 8 matrices de comparación para las 5 alternativas, una por cada subcriterio. Para cada matriz, se calculan los pesos locales y el ratio de inconsistencia.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Definimos los nombres de las alternativas</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>v_nombres_alt <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Natacion"</span>, <span class="st">"Running"</span>, <span class="st">"CrossFit"</span>, <span class="st">"Ciclismo"</span>, <span class="st">"Yoga"</span>)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>num_alt <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>lista_pesos_locales <span class="ot">&lt;-</span> <span class="fu">list</span>() <span class="co"># Aquí guardaremos los 8 vectores de pesos</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>lista_inconsistencia <span class="ot">&lt;-</span> <span class="fu">list</span>() <span class="co"># Aquí guardaremos los 8 ratios</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Matriz para C1.1: Salud Cardiovascular</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>mat_alt_1_cardio <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">7</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">7</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>), num_alt, v_nombres_alt)</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>pesos_alt_1_cardio_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_alt_1_cardio)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>lista_pesos_locales[[<span class="st">"Cardio"</span>]] <span class="ot">&lt;-</span> pesos_alt_1_cardio_R</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>lista_inconsistencia[[<span class="st">"Cardio"</span>]] <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_alt_1_cardio)<span class="sc">$</span>RI.coef.inconsistencia</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Matriz para C1.2: Desarrollo Muscular</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>mat_alt_2_musculo <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">7</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">3</span>), num_alt, v_nombres_alt)</span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>pesos_alt_2_musculo_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_alt_2_musculo)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>lista_pesos_locales[[<span class="st">"Musculo"</span>]] <span class="ot">&lt;-</span> pesos_alt_2_musculo_R</span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>lista_inconsistencia[[<span class="st">"Musculo"</span>]] <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_alt_2_musculo)<span class="sc">$</span>RI.coef.inconsistencia</span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Matriz para C1.3: Flexibilidad y Movilidad</span></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>mat_alt_3_flexibilidad <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">7</span>, <span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">7</span>), num_alt, v_nombres_alt)</span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a>pesos_alt_3_flexibilidad_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_alt_3_flexibilidad)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a>lista_pesos_locales[[<span class="st">"Flexibilidad"</span>]] <span class="ot">&lt;-</span> pesos_alt_3_flexibilidad_R</span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a>lista_inconsistencia[[<span class="st">"Flexibilidad"</span>]] <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_alt_3_flexibilidad)<span class="sc">$</span>RI.coef.inconsistencia</span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Matriz para C1.4: Bajo Impacto Articular</span></span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a>mat_alt_4_impacto <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">7</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>), num_alt, v_nombres_alt)</span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a>pesos_alt_4_impacto_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_alt_4_impacto)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a>lista_pesos_locales[[<span class="st">"Impacto"</span>]] <span class="ot">&lt;-</span> pesos_alt_4_impacto_R</span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a>lista_inconsistencia[[<span class="st">"Impacto"</span>]] <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_alt_4_impacto)<span class="sc">$</span>RI.coef.inconsistencia</span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a><span class="co"># 5. Matriz para C2.1: Reducción Estres</span></span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a>mat_alt_5_estres <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb33-37"><a href="#cb33-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">9</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>), num_alt, v_nombres_alt)</span>
<span id="cb33-38"><a href="#cb33-38" aria-hidden="true" tabindex="-1"></a>pesos_alt_5_estres_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_alt_5_estres)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb33-39"><a href="#cb33-39" aria-hidden="true" tabindex="-1"></a>lista_pesos_locales[[<span class="st">"Estres"</span>]] <span class="ot">&lt;-</span> pesos_alt_5_estres_R</span>
<span id="cb33-40"><a href="#cb33-40" aria-hidden="true" tabindex="-1"></a>lista_inconsistencia[[<span class="st">"Estres"</span>]] <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_alt_5_estres)<span class="sc">$</span>RI.coef.inconsistencia</span>
<span id="cb33-41"><a href="#cb33-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-42"><a href="#cb33-42" aria-hidden="true" tabindex="-1"></a><span class="co"># 6. Matriz para C2.2: Componente Social</span></span>
<span id="cb33-43"><a href="#cb33-43" aria-hidden="true" tabindex="-1"></a>mat_alt_6_social <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb33-44"><a href="#cb33-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">7</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">3</span>), num_alt, v_nombres_alt)</span>
<span id="cb33-45"><a href="#cb33-45" aria-hidden="true" tabindex="-1"></a>pesos_alt_6_social_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_alt_6_social)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb33-46"><a href="#cb33-46" aria-hidden="true" tabindex="-1"></a>lista_pesos_locales[[<span class="st">"Social"</span>]] <span class="ot">&lt;-</span> pesos_alt_6_social_R</span>
<span id="cb33-47"><a href="#cb33-47" aria-hidden="true" tabindex="-1"></a>lista_inconsistencia[[<span class="st">"Social"</span>]] <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_alt_6_social)<span class="sc">$</span>RI.coef.inconsistencia</span>
<span id="cb33-48"><a href="#cb33-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-49"><a href="#cb33-49" aria-hidden="true" tabindex="-1"></a><span class="co"># 7. Matriz para C3.1: Coste Economico</span></span>
<span id="cb33-50"><a href="#cb33-50" aria-hidden="true" tabindex="-1"></a>mat_alt_7_coste <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb33-51"><a href="#cb33-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">7</span>), num_alt, v_nombres_alt)</span>
<span id="cb33-52"><a href="#cb33-52" aria-hidden="true" tabindex="-1"></a>pesos_alt_7_coste_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_alt_7_coste)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb33-53"><a href="#cb33-53" aria-hidden="true" tabindex="-1"></a>lista_pesos_locales[[<span class="st">"Coste"</span>]] <span class="ot">&lt;-</span> pesos_alt_7_coste_R</span>
<span id="cb33-54"><a href="#cb33-54" aria-hidden="true" tabindex="-1"></a>lista_inconsistencia[[<span class="st">"Coste"</span>]] <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_alt_7_coste)<span class="sc">$</span>RI.coef.inconsistencia</span>
<span id="cb33-55"><a href="#cb33-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-56"><a href="#cb33-56" aria-hidden="true" tabindex="-1"></a><span class="co"># 8. Matriz para C3.2: Accesibilidad</span></span>
<span id="cb33-57"><a href="#cb33-57" aria-hidden="true" tabindex="-1"></a>mat_alt_8_accesibilidad <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb33-58"><a href="#cb33-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">7</span>), num_alt, v_nombres_alt)</span>
<span id="cb33-59"><a href="#cb33-59" aria-hidden="true" tabindex="-1"></a>pesos_alt_8_accesibilidad_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_alt_8_accesibilidad)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb33-60"><a href="#cb33-60" aria-hidden="true" tabindex="-1"></a>lista_pesos_locales[[<span class="st">"Accesibilidad"</span>]] <span class="ot">&lt;-</span> pesos_alt_8_accesibilidad_R</span>
<span id="cb33-61"><a href="#cb33-61" aria-hidden="true" tabindex="-1"></a>lista_inconsistencia[[<span class="st">"Accesibilidad"</span>]] <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_alt_8_accesibilidad)<span class="sc">$</span>RI.coef.inconsistencia</span>
<span id="cb33-62"><a href="#cb33-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-63"><a href="#cb33-63" aria-hidden="true" tabindex="-1"></a><span class="co"># Imprimir solo el estudio de inconsistencia (para no saturar el informe)</span></span>
<span id="cb33-64"><a href="#cb33-64" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- Estudio de Inconsistencia (AHP-R Nivel Alternativas) ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- Estudio de Inconsistencia (AHP-R Nivel Alternativas) ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>inconsistencia_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Ratio_Inconsistencia =</span> <span class="fu">unlist</span>(lista_inconsistencia))</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(inconsistencia_df, <span class="at">digits =</span> <span class="dv">4</span>, <span class="at">caption =</span> <span class="st">"Inconsistencia de las 8 Matrices de Alternativas"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"striped"</span>, <span class="at">full_width =</span> F, <span class="at">position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped caption-top table-sm small" data-quarto-postprocess="true">
<caption>Inconsistencia de las 8 Matrices de Alternativas</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Ratio_Inconsistencia</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Cardio</td>
<td style="text-align: right;">0.0159</td>
</tr>
<tr class="even">
<td style="text-align: left;">Musculo</td>
<td style="text-align: right;">0.0396</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Flexibilidad</td>
<td style="text-align: right;">0.0210</td>
</tr>
<tr class="even">
<td style="text-align: left;">Impacto</td>
<td style="text-align: right;">0.0304</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Estres</td>
<td style="text-align: right;">0.0290</td>
</tr>
<tr class="even">
<td style="text-align: left;">Social</td>
<td style="text-align: right;">0.0210</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Coste</td>
<td style="text-align: right;">0.0331</td>
</tr>
<tr class="even">
<td style="text-align: left;">Accesibilidad</td>
<td style="text-align: right;">0.0210</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="cálculo-del-ranking-global-ahp-r" class="level3">
<h3 class="anchored" data-anchor-id="cálculo-del-ranking-global-ahp-r">3.4. Cálculo del Ranking Global (AHP-R)</h3>
<p>Finalmente, se calcula el ranking global. Para ello, primero se calcula el peso global de cada uno de los 8 subcriterios (hojas del árbol) multiplicando el peso de su criterio principal por su peso local.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Calcular el vector de pesos globales de los 8 subcriterios</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co"># (Peso Criterio * Peso Local Subcriterio)</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>vec_pesos_globales_sub_R <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  pesos_c1_R[<span class="dv">1</span>] <span class="sc">*</span> pesos_c1_sub_R,  <span class="co"># Pesos de C1 * Sub-pesos de C1</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>  pesos_c1_R[<span class="dv">2</span>] <span class="sc">*</span> pesos_c2_sub_R,  <span class="co"># Pesos de C1 * Sub-pesos de C2</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  pesos_c1_R[<span class="dv">3</span>] <span class="sc">*</span> pesos_c3_sub_R   <span class="co"># Pesos de C1 * Sub-pesos de C3</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Crear la matriz de pesos de alternativas (8 Subcriterios x 5 Alternativas)</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Usamos 'do.call(rbind, ...)' para unir los 8 vectores de la lista</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>mat_alt_final_R <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, lista_pesos_locales)</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Calcular el ranking final (Producto matricial)</span></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a><span class="co"># (1x8) %*% (8x5) = (1x5)</span></span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Esto es: (Pesos Globales Subcriterios) %*% (Pesos Locales Alternativas)</span></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>ranking_final_R <span class="ot">&lt;-</span> vec_pesos_globales_sub_R <span class="sc">%*%</span> mat_alt_final_R</span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Formatear y mostrar la tabla de resultados</span></span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a>ranking_df_R <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">t</span>(ranking_final_R)) <span class="co"># Transponer para ver en columna</span></span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(ranking_df_R) <span class="ot">&lt;-</span> <span class="st">"Ponderacion_Global_AHP_R"</span></span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>ranking_df_R <span class="ot">&lt;-</span> ranking_df_R[<span class="fu">order</span>(ranking_df_R<span class="sc">$</span>Ponderacion_Global_AHP_R, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), , drop <span class="ot">=</span> <span class="cn">FALSE</span>]</span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- Ranking Final (AHP-R) ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- Ranking Final (AHP-R) ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(ranking_df_R, <span class="at">digits =</span> <span class="dv">4</span>, <span class="at">caption =</span> <span class="st">"Ranking Final (AHP con Funciones R)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"striped"</span>, <span class="at">full_width =</span> F, <span class="at">position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped caption-top table-sm small" data-quarto-postprocess="true">
<caption>Ranking Final (AHP con Funciones R)</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Ponderacion_Global_AHP_R</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Yoga</td>
<td style="text-align: right;">0.2412</td>
</tr>
<tr class="even">
<td style="text-align: left;">CrossFit</td>
<td style="text-align: right;">0.2326</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Natacion</td>
<td style="text-align: right;">0.2032</td>
</tr>
<tr class="even">
<td style="text-align: left;">Running</td>
<td style="text-align: right;">0.1745</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Ciclismo</td>
<td style="text-align: right;">0.1485</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="conclusiones-del-método-ahp-con-r" class="level3">
<h3 class="anchored" data-anchor-id="conclusiones-del-método-ahp-con-r">3.5. Conclusiones del Método AHP (con R)</h3>
<p>El análisis manual con las funciones R de la asignatura (AHPconR) cumple dos objetivos:</p>
<p>-Estudio de Inconsistencia: Como se vio en los chunks anteriores, se ha calculado el Ratio de Inconsistencia (RI) para cada una de las 12 matrices de comparación. Todos los valores (ej. 0.0055 para la matriz de criterios) están muy por debajo del límite del 10%, validando la coherencia de los juicios.</p>
<p>-Ranking Final: El ranking obtenido (ver Tabla “Ranking Final (AHP con Funciones R)”) es idéntico al obtenido con el paquete ahp (Tabla “Resultados Finales AHP”).</p>
<p><em>Conclusión</em>: Ambos métodos de AHP (Paquete y Funciones R) producen el mismo resultado, lo que confirma la correcta aplicación de ambas técnicas.</p>
</section>
</section>
<section id="método-electre" class="level2">
<h2 class="anchored" data-anchor-id="método-electre">4. Método ELECTRE</h2>
<p>El método ELECTRE es un enfoque basado en la comparación por pares de alternativas, utilizando los conceptos de concordancia y discordancia para establecer relaciones de dominancia.</p>
<section id="carga-de-funciones-y-preparación-de-datos" class="level3">
<h3 class="anchored" data-anchor-id="carga-de-funciones-y-preparación-de-datos">4.1 Carga de Funciones y Preparación de Datos</h3>
<p>Para mantener la consistencia del análisis, se utilizan los resultados del método AHP como datos de entrada.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargar funciones</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"teoriadecision_funciones_multicriterio.R"</span>)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"teoriadecision_funciones_multicriterio_utiles.R"</span>)</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Preparar datos</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Seleccionar solo los 8 subcriterios</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>nombres_subcriterios <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Salud Cardiovascular"</span>, <span class="st">"Desarrollo Muscular"</span>, </span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>                        <span class="st">"Flexibilidad y Movilidad"</span>, <span class="st">"Bajo Impacto Articular"</span>,</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>                        <span class="st">"Reduccion Estres"</span>, <span class="st">"Componente Social"</span>,</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>                        <span class="st">"Coste Economico"</span>, <span class="st">"Accesibilidad"</span>)</span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Usar la tabla de prioridad local de AHP (results_priority)</span></span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>matriz_base <span class="ot">&lt;-</span> results_priority[nombres_subcriterios, </span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">c</span>(<span class="st">"Natacion"</span>, <span class="st">"Running"</span>, <span class="st">"CrossFit"</span>, <span class="st">"Ciclismo"</span>, <span class="st">"Yoga"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="creación-de-la-matriz-de-decisión" class="level3">
<h3 class="anchored" data-anchor-id="creación-de-la-matriz-de-decisión">4.2 Creación de la Matriz de Decisión</h3>
<p>A partir de los datos de AHP, se construye la matriz de decisión que requiere ELECTRE.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear Matriz de Decisión</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Transponer la matriz para tener (Alternativas x Criterios)</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>matriz_electre <span class="ot">&lt;-</span> <span class="fu">t</span>(matriz_base)</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Mostrar la matriz de decisión que usaremos</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(matriz_electre, <span class="at">digits =</span> <span class="dv">3</span>, <span class="at">caption =</span> <span class="st">"Matriz de Decisión para ELECTRE"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"striped"</span>, <span class="at">full_width =</span> F, <span class="at">position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped caption-top table-sm small" data-quarto-postprocess="true">
<caption>Matriz de Decisión para ELECTRE</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Salud Cardiovascular</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Desarrollo Muscular</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Flexibilidad y Movilidad</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Bajo Impacto Articular</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Reduccion Estres</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Componente Social</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Coste Economico</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Accesibilidad</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Natacion</td>
<td style="text-align: right;">0.284</td>
<td style="text-align: right;">0.195</td>
<td style="text-align: right;">0.153</td>
<td style="text-align: right;">0.362</td>
<td style="text-align: right;">0.134</td>
<td style="text-align: right;">0.059</td>
<td style="text-align: right;">0.185</td>
<td style="text-align: right;">0.091</td>
</tr>
<tr class="even">
<td style="text-align: left;">Running</td>
<td style="text-align: right;">0.284</td>
<td style="text-align: right;">0.084</td>
<td style="text-align: right;">0.059</td>
<td style="text-align: right;">0.039</td>
<td style="text-align: right;">0.134</td>
<td style="text-align: right;">0.153</td>
<td style="text-align: right;">0.487</td>
<td style="text-align: right;">0.388</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CrossFit</td>
<td style="text-align: right;">0.113</td>
<td style="text-align: right;">0.598</td>
<td style="text-align: right;">0.153</td>
<td style="text-align: right;">0.076</td>
<td style="text-align: right;">0.035</td>
<td style="text-align: right;">0.576</td>
<td style="text-align: right;">0.068</td>
<td style="text-align: right;">0.091</td>
</tr>
<tr class="even">
<td style="text-align: left;">Ciclismo</td>
<td style="text-align: right;">0.284</td>
<td style="text-align: right;">0.084</td>
<td style="text-align: right;">0.059</td>
<td style="text-align: right;">0.161</td>
<td style="text-align: right;">0.134</td>
<td style="text-align: right;">0.153</td>
<td style="text-align: right;">0.035</td>
<td style="text-align: right;">0.042</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Yoga</td>
<td style="text-align: right;">0.035</td>
<td style="text-align: right;">0.039</td>
<td style="text-align: right;">0.576</td>
<td style="text-align: right;">0.362</td>
<td style="text-align: right;">0.563</td>
<td style="text-align: right;">0.059</td>
<td style="text-align: right;">0.225</td>
<td style="text-align: right;">0.388</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="definición-de-pesos-y-parámetros" class="level3">
<h3 class="anchored" data-anchor-id="definición-de-pesos-y-parámetros">4.3 Definición de Pesos y Parámetros</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Preparar Pesos </span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraer pesos globales de la Tabla 1 de AHP</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>pesos_globales_ahp <span class="ot">&lt;-</span> results_table[nombres_subcriterios, <span class="st">"Weight"</span>]</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Normalizar los pesos para que sumen 1 (requisito de la función)</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>pesos_electre <span class="ot">&lt;-</span> pesos_globales_ahp <span class="sc">/</span> <span class="fu">sum</span>(pesos_globales_ahp)</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- Pesos Normalizados para ELECTRE ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- Pesos Normalizados para ELECTRE ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Usamos kbl para mostrar el vector de pesos de forma ordenada</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">t</span>(pesos_electre), <span class="at">digits =</span> <span class="dv">3</span>, <span class="at">caption =</span> <span class="st">"Vector de Pesos (W) para ELECTRE"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"striped"</span>, <span class="at">full_width =</span> T, <span class="at">position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped caption-top table-sm small" data-quarto-postprocess="true">
<caption>Vector de Pesos (W) para ELECTRE</caption>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.234</td>
<td style="text-align: right;">0.234</td>
<td style="text-align: right;">0.061</td>
<td style="text-align: right;">0.107</td>
<td style="text-align: right;">0.194</td>
<td style="text-align: right;">0.065</td>
<td style="text-align: right;">0.026</td>
<td style="text-align: right;">0.079</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Preparar Parámetros</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Nivel de Concordancia</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>alpha_concordancia <span class="ot">&lt;-</span> <span class="fl">0.7</span> </span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Umbrales de Discordancia (d_i)</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Una diferencia mayor a 0.10 (10%) en los criterios más importantes</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="co"># (Músculo y Estrés) es inaceptable. El resto se pueden compensar (Inf).</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>umbrales_discordancia <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>    <span class="cn">Inf</span>,    <span class="co"># C1.1 Cardio</span></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0.10</span>,   <span class="co"># C1.2 Músculo (Muy Importante)</span></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>    <span class="cn">Inf</span>,    <span class="co"># C1.3 Flexibilidad</span></span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>    <span class="cn">Inf</span>,    <span class="co"># C1.4 Impacto</span></span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0.10</span>,   <span class="co"># C2.1 Estrés (Muy Importante)</span></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>    <span class="cn">Inf</span>,    <span class="co"># C2.2 Social</span></span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>    <span class="cn">Inf</span>,    <span class="co"># C3.1 Coste</span></span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>    <span class="cn">Inf</span>     <span class="co"># C3.2 Accesibilidad</span></span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="ejecución-y-análisis-iterativo" class="level3">
<h3 class="anchored" data-anchor-id="ejecución-y-análisis-iterativo">4.4 Ejecución y Análisis Iterativo</h3>
<p>Realizamos un análisis iterativo para encontrar el núcleo del grafo de superación.</p>
<section id="iteración-1-todas-las-alternativas" class="level4">
<h4 class="anchored" data-anchor-id="iteración-1-todas-las-alternativas">Iteración 1: Todas las alternativas</h4>
<p>Primero, ejecutamos el método con las 5 alternativas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(qgraph)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'qgraph' was built under R version 4.4.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Ejecutar ELECTRE I (Iteración 1) </span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- Ejecutando ELECTRE I: Iteración 1 (Todas las alternativas) ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- Ejecutando ELECTRE I: Iteración 1 (Todas las alternativas) ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Ejecutar ELECTRE I (Iteración 1: Todas las alternativas)</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="co">#    Usamos la función de clase</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>salida_electre1 <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoELECTRE_I</span>(</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">tabdecs.X =</span> matriz_electre,</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">pesos.criterios =</span> pesos_electre,</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">nivel.concordancia.minimo.alpha =</span> alpha_concordancia,</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">no.se.compensan =</span> umbrales_discordancia</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Mostrar el núcleo (las mejores alternativas)</span></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- ELECTRE Iteración 1: Núcleo Aproximado ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- ELECTRE Iteración 1: Núcleo Aproximado ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(salida_electre1<span class="sc">$</span>nucleo_aprox)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Natacion  Running CrossFit     Yoga 
       1        2        3        5 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Mostrar el grafo de dominancia</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- ELECTRE Iteración 1: Grafo de Dominancia ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- ELECTRE Iteración 1: Grafo de Dominancia ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>qgraph<span class="sc">::</span><span class="fu">qgraph</span>(salida_electre1<span class="sc">$</span>relacion.dominante, </span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">labels =</span> <span class="fu">rownames</span>(matriz_electre),</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">edge.labels =</span> <span class="cn">FALSE</span>,</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">posCol =</span> <span class="st">"blue"</span>,</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">label.cex =</span> <span class="fl">1.2</span>,</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">label.color =</span> <span class="st">"black"</span>,</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">vsize =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="multicriterio_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="iteración-2-filtrado-del-núcleo" class="level4">
<h4 class="anchored" data-anchor-id="iteración-2-filtrado-del-núcleo">Iteración 2: Filtrado del Núcleo</h4>
<p>El núcleo de la Iteración 1 nos devuelve 4 alternativas. Repetimos el análisis solo con estas alternativas para intentar desempatar.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(qgraph)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Ejecutar ELECTRE I (Iteración 2)</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Identificamos las alternativas del núcleo anterior</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>alternativas_nucleo1 <span class="ot">&lt;-</span> salida_electre1<span class="sc">$</span>nucleo_aprox </span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>alternativas_nucleo1_nombres <span class="ot">&lt;-</span> <span class="fu">names</span>(alternativas_nucleo1)</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- Ejecutando ELECTRE I: Iteración 2 (solo núcleo) ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- Ejecutando ELECTRE I: Iteración 2 (solo núcleo) ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Alternativas en esta iteración:"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Alternativas en esta iteración:"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(alternativas_nucleo1_nombres)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Natacion" "Running"  "CrossFit" "Yoga"    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Ejecutamos ELECTRE I de nuevo, pero pasando el vector de</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="co">#    alternativas en el parámetro 'que.alternativas'</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>salida_electre2 <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoELECTRE_I</span>(</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">tabdecs.X =</span> matriz_electre,</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">pesos.criterios =</span> pesos_electre,</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">nivel.concordancia.minimo.alpha =</span> alpha_concordancia,</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">no.se.compensan =</span> umbrales_discordancia,</span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">que.alternativas =</span> alternativas_nucleo1_nombres <span class="co"># ¡Filtro clave!</span></span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Imprimir el núcleo final</span></span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- ELECTRE Iteración 2: Núcleo Final ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- ELECTRE Iteración 2: Núcleo Final ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(salida_electre2<span class="sc">$</span>nucleo_aprox)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Natacion  Running CrossFit     Yoga 
       1        2        3        4 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Mostrar el grafo de dominancia final</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- ELECTRE Iteración 2: Grafo de Dominancia Final ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- ELECTRE Iteración 2: Grafo de Dominancia Final ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>qgraph<span class="sc">::</span><span class="fu">qgraph</span>(salida_electre2<span class="sc">$</span>relacion.dominante, </span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">labels =</span> alternativas_nucleo1_nombres,</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">edge.labels =</span> <span class="cn">FALSE</span>,</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">posCol =</span> <span class="st">"blue"</span>,</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">label.cex =</span> <span class="fl">1.2</span>,</span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">label.color =</span> <span class="st">"black"</span>,</span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">vsize =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="multicriterio_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="conclusiones-del-método-electre-i" class="level3">
<h3 class="anchored" data-anchor-id="conclusiones-del-método-electre-i">4.5 Conclusiones del Método ELECTRE I</h3>
<p>El método ELECTRE I se ha ejecutado <strong>siguiendo el paso a paso</strong> requerido.</p>
<ol type="1">
<li><p><strong>Iteración 1:</strong> Al ejecutar el método con las 5 alternativas, el grafo de superación mostró que la alternativa “Ciclismo” era dominada, mientras que las otras cuatro (Natacion, Running, CrossFit, Yoga) no recibían ninguna relación de dominancia. El <strong>núcleo aproximado</strong> resultante fue, por tanto, <strong>[Natacion, Running, CrossFit, Yoga]</strong>.</p></li>
<li><p><strong>Iteración 2:</strong> Para desempatar, se repite el análisis filtrando solo por las alternativas del núcleo. El grafo resultante <strong>no muestra ninguna flecha</strong>, lo que significa que existe una <strong>relación de incomparabilidad</strong> entre estas cuatro alternativas. El núcleo final sigue siendo <strong>[Natacion, Running, CrossFit, Yoga]</strong>.</p></li>
</ol>
<p><strong>Conclusión:</strong> ELECTRE I no nos da un único ganador. Concluye que <strong>Natación, Running, CrossFit y Yoga</strong> son las mejores opciones y son <strong>incomparables</strong> entre sí; ninguna es estrictamente mejor que la otra bajo los parámetros <span class="math inline">\(\alpha=0.7\)</span> y los umbrales de discordancia establecidos.</p>
</section>
</section>
<section id="método-promethee-ii" class="level2">
<h2 class="anchored" data-anchor-id="método-promethee-ii">5. Método PROMETHEE II</h2>
<p>El método PROMETHEE II es un enfoque de decisión multicriterio que utiliza funciones de preferencia para comparar alternativas y generar un ranking completo basado en flujos netos.</p>
<section id="definición-de-parámetros-y-funciones-de-preferencia" class="level3">
<h3 class="anchored" data-anchor-id="definición-de-parámetros-y-funciones-de-preferencia">5.1. Definición de Parámetros y Funciones de Preferencia</h3>
<p>Este es el paso clave de PROMETHEE en el que se deben definir las funciones de preferencia generalizadas para cada uno de los 8 subcriterios.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># --- Cargar Funciones</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"teoriadecision_funciones_multicriterio.R"</span>)</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"teoriadecision_funciones_multicriterio_utiles.R"</span>)</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"teoriadecision_funciones_multicriterio_diagram.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Definir Parámetros de PROMETHEE</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Matriz de Decisión: Reutilizamos la de ELECTRE</span></span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Pesos: Reutilizamos los de ELECTRE (normalizados de AHP)</span></span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>pesos_promethee <span class="ot">&lt;-</span> pesos_electre</span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Vector min/max:</span></span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a>vec_fminmax <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">"max"</span>, <span class="fu">ncol</span>(matriz_electre))</span>
<span id="cb70-13"><a href="#cb70-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-14"><a href="#cb70-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-15"><a href="#cb70-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Tabla de Funciones de Preferencia (tab.fpref)</span></span>
<span id="cb70-16"><a href="#cb70-16" aria-hidden="true" tabindex="-1"></a>tab_fpref_promethee <span class="ot">&lt;-</span> <span class="fu">matrix</span>(</span>
<span id="cb70-17"><a href="#cb70-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(</span>
<span id="cb70-18"><a href="#cb70-18" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="fl">0.00</span>, <span class="fl">0.20</span>, <span class="dv">0</span>,  <span class="co"># C1.1 Cardio: V-shape (p=20%)</span></span>
<span id="cb70-19"><a href="#cb70-19" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="fl">0.00</span>, <span class="fl">0.25</span>, <span class="dv">0</span>,  <span class="co"># C1.2 Músculo: V-shape (p=25%)</span></span>
<span id="cb70-20"><a href="#cb70-20" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="fl">0.05</span>, <span class="fl">0.25</span>, <span class="dv">0</span>,  <span class="co"># C1.3 Flexibilidad: Linear c/ indif (q=5%, p=25%)</span></span>
<span id="cb70-21"><a href="#cb70-21" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="fl">0.10</span>, <span class="fl">0.00</span>, <span class="dv">0</span>,  <span class="co"># C1.4 Impacto: U-shape (q=10%)</span></span>
<span id="cb70-22"><a href="#cb70-22" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="fl">0.00</span>, <span class="fl">0.20</span>, <span class="dv">0</span>,  <span class="co"># C2.1 Estrés: V-shape (p=20%)</span></span>
<span id="cb70-23"><a href="#cb70-23" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="fl">0.00</span>, <span class="fl">0.00</span>, <span class="dv">0</span>,  <span class="co"># C2.2 Social: Usual</span></span>
<span id="cb70-24"><a href="#cb70-24" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="fl">0.05</span>, <span class="fl">0.25</span>, <span class="dv">0</span>,  <span class="co"># C3.1 Coste: Linear c/ indif (q=5%, p=25%)</span></span>
<span id="cb70-25"><a href="#cb70-25" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="fl">0.00</span>, <span class="fl">0.00</span>, <span class="dv">0</span>   <span class="co"># C3.2 Accesibilidad: Usual</span></span>
<span id="cb70-26"><a href="#cb70-26" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb70-27"><a href="#cb70-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">4</span>, </span>
<span id="cb70-28"><a href="#cb70-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">byrow =</span> <span class="cn">TRUE</span></span>
<span id="cb70-29"><a href="#cb70-29" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="ejecución-y-resultados-de-promethee-ii" class="level3">
<h3 class="anchored" data-anchor-id="ejecución-y-resultados-de-promethee-ii">5.2. Ejecución y Resultados de PROMETHEE II</h3>
<p>Ahora, ejecutamos el método PROMETHEE II. Este método generará un ranking completo de las 5 alternativas, ordenándolas por su flujo neto (Phi).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ejecutar PROMETHEE</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Ejecutamos las funciones y guardamos las tablas en una variable</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>salida_promethee <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodo.promethee_windows</span>(</span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">matdecision =</span> matriz_electre,</span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">tab.fpref =</span> tab_fpref_promethee,</span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">pesos.criterios =</span> pesos_promethee,</span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">fminmax =</span> vec_fminmax</span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a>tablas_promethee <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodo.promethee_windows_kableExtra</span>(salida_promethee)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tabla de Escenario (Parámetros)</p>
<p>A continuación, se muestra la tabla de escenario que resume los parámetros, pesos y las funciones de preferencia utilizadas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar Tabla de Escenario </span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>tablas_promethee<span class="sc">$</span>tabEscenario</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="lightable-paper lightable-striped caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Criterio1</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Criterio2</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Criterio3</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Criterio4</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Criterio5</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Criterio6</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Criterio7</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Criterio8</th>
</tr>
</thead>
<tbody>
<tr class="odd" data-grouplength="6">
<td colspan="9" style="border-bottom: 1px solid"><strong>Preferencias</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Min/Max</td>
<td style="text-align: left;">max</td>
<td style="text-align: left;">max</td>
<td style="text-align: left;">max</td>
<td style="text-align: left;">max</td>
<td style="text-align: left;">max</td>
<td style="text-align: left;">max</td>
<td style="text-align: left;">max</td>
<td style="text-align: left;">max</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Pesos</td>
<td style="text-align: left;">0.234343798396501</td>
<td style="text-align: left;">0.234343798396501</td>
<td style="text-align: left;">0.0608768965587885</td>
<td style="text-align: left;">0.107421078392966</td>
<td style="text-align: left;">0.193713745780871</td>
<td style="text-align: left;">0.0645712485936238</td>
<td style="text-align: left;">0.026182358470187</td>
<td style="text-align: left;">0.078547075410561</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Funciones Preferencias</td>
<td style="text-align: left;">V-shape (3)</td>
<td style="text-align: left;">V-shape (3)</td>
<td style="text-align: left;">Linear (5)</td>
<td style="text-align: left;">U-shape (2)</td>
<td style="text-align: left;">V-shape (3)</td>
<td style="text-align: left;">Usual (1)</td>
<td style="text-align: left;">Linear (5)</td>
<td style="text-align: left;">Usual (1)</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Q: Indiferencia</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0.05</td>
<td style="text-align: left;">0.1</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0.05</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">P: Preferencia</td>
<td style="text-align: left;">0.2</td>
<td style="text-align: left;">0.25</td>
<td style="text-align: left;">0.25</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0.2</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0.25</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">S: Gausiano</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even" data-grouplength="4">
<td colspan="9" style="border-bottom: 1px solid"><strong>Estadísticas</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Minimo</td>
<td style="text-align: left;">0.04</td>
<td style="text-align: left;">0.04</td>
<td style="text-align: left;">0.06</td>
<td style="text-align: left;">0.04</td>
<td style="text-align: left;">0.03</td>
<td style="text-align: left;">0.06</td>
<td style="text-align: left;">0.04</td>
<td style="text-align: left;">0.04</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Maximo</td>
<td style="text-align: left;">0.28</td>
<td style="text-align: left;">0.6</td>
<td style="text-align: left;">0.58</td>
<td style="text-align: left;">0.36</td>
<td style="text-align: left;">0.56</td>
<td style="text-align: left;">0.58</td>
<td style="text-align: left;">0.49</td>
<td style="text-align: left;">0.39</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Media</td>
<td style="text-align: left;">0.2</td>
<td style="text-align: left;">0.2</td>
<td style="text-align: left;">0.2</td>
<td style="text-align: left;">0.2</td>
<td style="text-align: left;">0.2</td>
<td style="text-align: left;">0.2</td>
<td style="text-align: left;">0.2</td>
<td style="text-align: left;">0.2</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Desviacion Tipica</td>
<td style="text-align: left;">0.11</td>
<td style="text-align: left;">0.21</td>
<td style="text-align: left;">0.19</td>
<td style="text-align: left;">0.14</td>
<td style="text-align: left;">0.19</td>
<td style="text-align: left;">0.19</td>
<td style="text-align: left;">0.16</td>
<td style="text-align: left;">0.15</td>
</tr>
<tr class="odd" data-grouplength="5">
<td colspan="9" style="border-bottom: 1px solid"><strong>Evaluaciones</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Natacion</td>
<td style="text-align: left;">0.283778801842802</td>
<td style="text-align: left;">0.195373882029858</td>
<td style="text-align: left;">0.152549680132204</td>
<td style="text-align: left;">0.362092590053156</td>
<td style="text-align: left;">0.134174925957964</td>
<td style="text-align: left;">0.0594647093018014</td>
<td style="text-align: left;">0.184850773092585</td>
<td style="text-align: left;">0.090805841066054</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Running</td>
<td style="text-align: left;">0.283778801842802</td>
<td style="text-align: left;">0.083881062983965</td>
<td style="text-align: left;">0.0594647093018015</td>
<td style="text-align: left;">0.0389243098525514</td>
<td style="text-align: left;">0.134174925957964</td>
<td style="text-align: left;">0.152549680132204</td>
<td style="text-align: left;">0.487193229785512</td>
<td style="text-align: left;">0.388252746079953</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">CrossFit</td>
<td style="text-align: left;">0.113227292098632</td>
<td style="text-align: left;">0.598213536699391</td>
<td style="text-align: left;">0.152549680132204</td>
<td style="text-align: left;">0.0762012677489587</td>
<td style="text-align: left;">0.0346373719523939</td>
<td style="text-align: left;">0.575971221131989</td>
<td style="text-align: left;">0.0679034411501874</td>
<td style="text-align: left;">0.090805841066054</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Ciclismo</td>
<td style="text-align: left;">0.283778801842802</td>
<td style="text-align: left;">0.083881062983965</td>
<td style="text-align: left;">0.0594647093018014</td>
<td style="text-align: left;">0.160689242292178</td>
<td style="text-align: left;">0.134174925957964</td>
<td style="text-align: left;">0.152549680132204</td>
<td style="text-align: left;">0.0351626739814555</td>
<td style="text-align: left;">0.0418828257079867</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Yoga</td>
<td style="text-align: left;">0.0354363023729621</td>
<td style="text-align: left;">0.0386504553028212</td>
<td style="text-align: left;">0.575971221131989</td>
<td style="text-align: left;">0.362092590053156</td>
<td style="text-align: left;">0.562837850173715</td>
<td style="text-align: left;">0.0594647093018014</td>
<td style="text-align: left;">0.224889881990261</td>
<td style="text-align: left;">0.388252746079953</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Tabla de Ranking (Resultados)</p>
<p>La siguiente tabla muestra el ranking final de las alternativas. El orden se basa en el flujo neto (Phi).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar Tabla de Ranking</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>tablas_promethee<span class="sc">$</span>tabAcciones</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="lightable-paper lightable-striped caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Rango</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Phi</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Phi.mas</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Phi.menos</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Natacion</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1209</td>
<td style="text-align: right;">0.3535</td>
<td style="text-align: right;">0.2326</td>
</tr>
<tr class="even">
<td style="text-align: left;">Running</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.0448</td>
<td style="text-align: right;">0.2964</td>
<td style="text-align: right;">0.2516</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Yoga</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.0286</td>
<td style="text-align: right;">0.4183</td>
<td style="text-align: right;">0.3897</td>
</tr>
<tr class="even">
<td style="text-align: left;">CrossFit</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">-0.0628</td>
<td style="text-align: right;">0.3479</td>
<td style="text-align: right;">0.4107</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Ciclismo</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">-0.1315</td>
<td style="text-align: right;">0.2024</td>
<td style="text-align: right;">0.3338</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="conclusiones-del-método-promethee-ii" class="level3">
<h3 class="anchored" data-anchor-id="conclusiones-del-método-promethee-ii">5.3. Conclusiones del Método PROMETHEE II</h3>
<p>El método PROMETHEE II, a diferencia de ELECTRE I, sí nos proporciona un <strong>ranking completo</strong> de las alternativas, basado en el Flujo Neto (Phi). Este flujo se calcula como la diferencia entre el flujo positivo (Phi.mas, o las fortalezas) y el flujo negativo (Phi.menos, o las debilidades) de cada alternativa.</p>
<p>El ranking final obtenido es:</p>
<ol type="1">
<li><strong>Natacion (Phi = 0.1209)</strong></li>
<li><strong>Running (Phi = 0.0448)</strong></li>
<li><strong>Yoga (Phi = 0.0286)</strong></li>
<li>CrossFit (Phi = -0.0628)</li>
<li>Ciclismo (Phi = -0.1315)</li>
</ol>
<p><strong>Análisis de la tabla:</strong></p>
<ul>
<li><p><strong>El Ganador:</strong> Natacion emerge como la mejor alternativa. Es la que presenta el <strong>mejor compromiso</strong> (el mayor Flujo Neto). No tiene el Phi.mas más alto, pero sí tiene uno de los Phi.menos más bajos (0.2326), indicando que tiene pocas debilidades significativas frente al resto.</p></li>
<li><p><strong>Diferencia con AHP:</strong> Es muy interesante ver que los ganadores de AHP (Yoga y CrossFit) caen al 3º y 4º puesto.</p>
<ul>
<li><strong>Yoga</strong> tiene el Phi.mas (fortalezas) más alto de todos (0.4183), confirmando su dominio en criterios clave. Sin embargo, también tiene el segundo Phi.menos` (debilidades) más alto (0.3897), lo que penaliza su flujo neto.</li>
<li><strong>CrossFit</strong> tiene el Phi.menos más alto (0.4107), lo que significa que, aunque es muy fuerte en `Desarrollo Muscular, tiene debilidades muy marcadas en otros criterios (como Impacto o Coste) que hacen que las demás alternativas lo superen con frecuencia.</li>
</ul></li>
<li><p><strong>Consistencia:</strong> El método es consistente con AHP y ELECTRE al identificar a Ciclismo (Phi = -0.1315) como la alternativa menos preferida.</p></li>
</ul>
<p><strong>Conclusión:</strong> PROMETHEE II, usando las funciones de preferencia definidas, favorece a la <strong>Natación</strong> por ser la alternativa más equilibrada y con menos debilidades.</p>
<hr>
</section>
</section>
<section id="conclusiones-finales-comparativa-de-métodos" class="level2">
<h2 class="anchored" data-anchor-id="conclusiones-finales-comparativa-de-métodos">6. Conclusiones Finales (Comparativa de Métodos)</h2>
<p>En este trabajo se han aplicado tres métodos de decisión multicriterio (AHP, ELECTRE I y PROMETHEE II) para resolver el problema de la “Selección del deporte más completo para una vida saludable”.</p>
<p>A continuación, se presenta una tabla comparativa con los rankings obtenidos por cada método:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Rango</th>
<th style="text-align: left;">Método AHP</th>
<th style="text-align: left;">Método ELECTRE I</th>
<th style="text-align: left;">Método PROMETHEE II</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>1º</strong></td>
<td style="text-align: left;">Yoga (24.1%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"><strong>Natacion (Phi: 0.121)</strong></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>2º</strong></td>
<td style="text-align: left;">CrossFit (23.7%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Running (Phi: 0.045)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>3º</strong></td>
<td style="text-align: left;">Natación (20.2%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Yoga (Phi: 0.029)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>4º</strong></td>
<td style="text-align: left;">Running (17.3%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">CrossFit (Phi: -0.063)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>5º</strong></td>
<td style="text-align: left;">Ciclismo (14.7%)</td>
<td style="text-align: left;"><em>Eliminado (Dominado)</em></td>
<td style="text-align: left;">Ciclismo (Phi: -0.132)</td>
</tr>
</tbody>
</table>
<section id="justificación-de-las-diferencias-entre-métodos" class="level3">
<h3 class="anchored" data-anchor-id="justificación-de-las-diferencias-entre-métodos">Justificación de las Diferencias entre Métodos</h3>
<p>El análisis de los tres métodos revela diferencias significativas que se explican por la lógica interna de cada uno:</p>
<ol type="1">
<li><p><strong>Consistencia en la Peor Alternativa:</strong> Los tres métodos son <strong>unánimes</strong> en identificar a Ciclismo como la alternativa menos preferida. AHP le da la puntuación más baja, ELECTRE I la elimina por ser dominada, y PROMETHEE II le da el flujo neto más negativo.</p></li>
<li><p><strong>Diferencia en los Ganadores (AHP vs.&nbsp;PROMETHEE):</strong></p>
<ul>
<li><strong>AHP</strong> (un método de agregación total) da como ganador al <strong>Yoga (24.1%)</strong>. Esto se debe a que la estructura jerárquica y la multiplicación de pesos le dan una enorme importancia a su dominio en Reducción de Estrés (que aporta un 10.9% del total).</li>
<li><strong>PROMETHEE II</strong> (un método de flujos netos) da como ganador a la <strong>Natación (Phi: 0.121)</strong>. Este método favorece a la alternativa más equilibrada; aunque el Yoga tiene muchas fortalezas (Phi.mas de 0.4183), también tiene muchas debilidades (Phi.menos de 0.3897), lo que resulta en un flujo neto bajo. La Natación gana por tener el mejor balance entre fortalezas y debilidades (un Phi.menos muy bajo de 0.2326).</li>
</ul></li>
<li><p><strong>El Caso de ELECTRE I (Incomparabilidad):</strong></p>
<ul>
<li>AHP y PROMETHEE <strong>fuerzan un ranking completo</strong>, obligando a comparar todas las alternativas.</li>
<li><strong>ELECTRE I</strong> (un método de superación) es el único que respeta la <strong>incomparabilidad</strong>. Concluye que Yoga, CrossFit, Natación y Running son incomparables. Esto se debe a los fuertes conflictos entre criterios (ej. Desarrollo Muscular del CrossFit vs.&nbsp;Reducción de Estrés del Yoga). Al no poder resolver estos conflictos con los parámetros dados, el método los agrupa en un “núcleo” de buenas soluciones.</li>
</ul></li>
</ol>
</section>
<section id="conclusión-final" class="level3">
<h3 class="anchored" data-anchor-id="conclusión-final">Conclusión Final</h3>
<p>No existe un “mejor método”, sino que cada uno aporta una visión diferente: * Si el decisor busca la <strong>excelencia en un criterio clave</strong> (Salud Mental), <strong>AHP</strong> le recomienda el <strong>Yoga</strong>. * Si el decisor busca la <strong>alternativa más equilibrada y con menos debilidades</strong>, <strong>PROMETHEE II</strong> le recomienda la <strong>Natación</strong>. * Si el decisor no está dispuesto a aceptar compensaciones entre criterios muy distintos, <strong>ELECTRE I</strong> le presenta un conjunto de <strong>4 finalistas</strong> igualmente válidos.</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>